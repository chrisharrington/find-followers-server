"use strict";

var Promise = require("bluebird"),
    _ = require("lodash"),

    ExistingFollower = include("data/models").ExistingFollower;

module.exports = function(user) {
    return new Promise(function(resolve, reject) {
        ExistingFollower.find({ userId: user._id }, function(err, followers) {
            if (err) reject(err);
            else resolve(_.map(followers, function(f) { return f.twitterId; }));
        });
    });

    //return Promise.resolve(["3260864593","19124209","2594319728","3030314487","126580633","143461892","3245008165","3268768182","3302602367","29800374","2546189329","1025141533","115139049","14303770","220795122","20693","2646135318","25096363","19594200","2340961627","524769897","3090778533","29022240","3260982116","14051474","310037042","75873258","181300851","2190243485","612336887","1469245129","3113382904","393421408","1953340549","18920449","2857839375","141653186","258206159","15353252","18705735","3247500542","2414781686","3264767083","3292041675","215457489","45556305","2932080087","18353119","25324979","2930312857","3245366263","3255958182","2951175926","2979448946","1724093346","1089335060","2380486108","478681435","2851121866","109688109","2871406175","90927065","23814994","1615498940","2865449236","2566419372","102229584","2988959806","3295310939","3226017439","3039042167","880705698","3307001049","386682607","622843921","70298771","64241402","2175514928","3068822347","185282100","16958077","1940919026","423468297","23686756","709470882","612528245","3300929926","2799709725","1680954295","147732372","2371357310","3242178816","133729321","3231186338","277403754","260823877","1175427457","94567828","3218914405"]);
}
